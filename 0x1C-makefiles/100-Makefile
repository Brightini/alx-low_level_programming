CC=gcc
NAME=school
SRC=main.c school.c
OBJ=$(SRC:.c=.o) # defines the corresponding object file for each source file
CFLAGS=-Wall -Werror -Wextra -pedantic
HEADER=m.h
CUSTOM_FLAGS := $(CFLAGS)

all:$(SRC) $(NAME)

# create executable file
# $@ represents the target name (executable name)
# $^ represents the object files of the target
$(NAME): $(OBJ) $(HEADER)
	$(CC) $(CUSTOM_FLAGS) -o $@ $^

# deletes all Emacs and Vim temporary files along with the executable
clean:
	$(RM) *~ $(NAME)

# deletes object files
oclean:
	$(RM) $(OBJ)

fclean: clean oclean

re: oclean all
